<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head('List of all post')"></head>
<body>
<div th:replace="fragments/navbar :: navbar"></div>
    <div class="container">
        <h1>Friends list</h1>
        <hr />
        <div class=" container">
            <form th:action="@{/add-friend}" th:method="post">
                <label for="friend">Enter username</label>
                <input type="text"  id="friend" name="username"/>
                <button>Submit</button>
            </form>
        </div>
        <div class="container">
            <h1>You have <span th:text="${numberOfRequests}"></span> friend requests!</h1>
            <div th:each="request : ${requests}">
                <p><span th:text="${request[0]}"></span> wants to be your friend</p>
                <form th:action="@{/accept-friend}" th:method="post">
                    <input type="hidden" th:value="${request[3]}" name="idOfRecord" />
                    <button>Accept</button>
                </form>
                <form th:action="@{/decline-friend}" th:method="post">
                    <input type="hidden" th:value="${request[3]}" name="idOfRecord" />
                    <button>Decline</button>
                </form>
            </div>
        </div>
        <div th:each="friend : ${friends}">
            <h4><a th:href="@{'/profile/' + ${friend}}" th:text="${friend}"></a></h4>
            <form th:action="@{/deleteFriendFromList}" th:method="POST">
                <input type="hidden" name="friend" th:value="${friend}" />
                <button>Delete Friend</button>
            </form>
        </div>
    </div>

    <script th:replace="fragments/scripts :: scripts"></script>
    <footer th:replace="fragments/footer :: footer"></footer>

</body>
</html>